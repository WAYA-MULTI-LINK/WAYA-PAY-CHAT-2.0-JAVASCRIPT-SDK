var WayaPay=function(){var e="https://services.staging.wayapay.ng/payment-gateway/api/v1/",a=async function(a){var s="";a?a&&!a.transactionId&&resolve({success:!1,message:"Please supply transactionId",data:{}}):resolve({success:!1,message:"Please supply transactionId",data:{}});var t=new XMLHttpRequest;s=a.mode&&"Live"===a.mode?"https://services.staging.wayapay.ng/payment-gateway/api/v1/":e,t.onload=function(){var e=JSON.parse(t.responseText);200===t.status&&!0===e.status?resolve({success:!0,message:e.message,data:e.data}):400===t.status?resolve({success:!1,message:e.message,data:{}}):500===t.status&&resolve({success:!1,message:"Sorry, Error occurred on the server while processing. Please contact the admin",data:{}})},t.onerror=function(){resolve({success:!1,message:"Sorry, Service unavailable. Please try again later",data:{}})},t.open("GET",s+"reference/query/"+a.transactionId),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify(a))};return{InitializePayment:async function(a){return new Promise(async function(s,t){s(async function(a){var s,t="";return await new Promise(function(n,r){a?a.wayaPublicKey&&a.merchantId&&null!==a.wayaPublicKey&&null!==a.merchantId||n({success:!1,message:"sorry, wayaPublicKey or merchantId is a compulsory field",data:{authorizeUrl:null,authorizeUrl:null,transactionId:null,customerName:null,customerId:null,customerAvoid:null}}):n({success:!1,message:"sorry, cannot find wayaPublicKey or merchantId on the request",data:{authorizeUrl:null,authorizeUrl:null,transactionId:null,customerName:null,customerId:null,customerAvoid:null}}),a.mode&&"Live"===a.mode?(s="https://services.staging.wayapay.ng/payment-gateway/api/v1/",t="https://pay.staging.wayapay.ng/"):(s=e,t="https://pay.staging.wayapay.ng/");var u=new XMLHttpRequest;u.onload=function(){var e=JSON.parse(u.responseText);200===u.status&&!0===e.status?n({success:!0,message:e.message,data:{authorizeUrl:t+"?_tranId="+e.data.tranId,transactionId:e.tranId,customerName:e.name,customerId:e.customerId,customerAvoid:e.customerAvoid}}):400===u.status?n({success:!1,message:e.message,data:{authorizeUrl:null,authorizeUrl:null,transactionId:null,customerName:null,customerId:null,customerAvoid:null}}):500===u.status&&n({success:!1,message:"Sorry, Error occurred on the server while processing. Please contact the admin",data:{authorizeUrl:null,authorizeUrl:null,transactionId:null,customerName:null,customerId:null,customerAvoid:null}})},u.onerror=function(){n({success:!1,message:"Sorry, Service unavailable. Please try again later",data:{authorizeUrl:null,authorizeUrl:null,transactionId:null,customerName:null,customerId:null,customerAvoid:null}})},u.open("POST",s+"request/transaction"),u.setRequestHeader("Content-type","application/json"),u.send(JSON.stringify(a))})}(a))})},VerifyPayment:async function(e){return new Promise(async function(e,s){e(a(payload))})}}}();